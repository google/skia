# a simple C only test case
cmake_minimum_required (VERSION 2.6)
project (CompileCommandOutput CXX)

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
set(CMAKE_DEBUG_POSTFIX "_test_debug_postfix")
if(MAKE_SUPPORTS_SPACES)
  set(test1_srcs "file with spaces.cxx")
else()
  set(test1_srcs "file_with_underscores.cxx")
endif()
add_library(test1 STATIC ${test1_srcs})
add_library(test2 SHARED "../CompileCommandOutput/relative.cxx")
include_directories(${CompileCommandOutput_SOURCE_DIR}/../../Source)
add_executable(CompileCommandOutput compile_command_output.cxx)
target_link_libraries(CompileCommandOutput test1 test2)
